[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Minicurso: Ci√™ncia de Dados com R ‚Äì Uma Introdu√ß√£o Pr√°tica",
    "section": "",
    "text": "Pref√°cio\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.",
    "crumbs": [
      "Pref√°cio"
    ]
  },
  {
    "objectID": "01-intro.html",
    "href": "01-intro.html",
    "title": "1¬† Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee (KNUTH84?) for additional discussion of literate programming.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "02-fundamentos.html",
    "href": "02-fundamentos.html",
    "title": "2¬† Fundamentos de R",
    "section": "",
    "text": "In summary, this book has no content whatsoever.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Fundamentos de R</span>"
    ]
  },
  {
    "objectID": "03-tidyverse.html",
    "href": "03-tidyverse.html",
    "title": "3¬† Tidyverse",
    "section": "",
    "text": "3.1 Manipula√ß√£o de dados com o pacote dplyr\nO tidyverse (WICKHAM ET AL., 2019) √© um ecossistema de pacotes R que re√∫ne as tarefas essenciais de qualquer fluxo de trabalho em ci√™ncia de dados: importa√ß√£o, organiza√ß√£o, manipula√ß√£o, visualiza√ß√£o e programa√ß√£o. Seu principal objetivo √© criar uma sintaxe consistente e leg√≠vel, facilitando a comunica√ß√£o entre quem escreve o c√≥digo e quem o executa. Note-se que, embora o tidyverse cubra grande parte do fluxo de trabalho, ele n√£o inclui ferramentas espec√≠ficas de modelagem estat√≠stica.\nPara facilitar essa integra√ß√£o, o tidyverse utiliza intensamente do operador pipe1 (%&gt;%) , que passa o resultado de uma etapa diretamente para a pr√≥xima, evitando aninhamentos confusos. Ao carregar o pacote, diversos m√≥dulos s√£o automaticamente disponibilizados:\nEntre os principais est√£o:\nComo dito, muitos pacotes definem fun√ß√µes com nomes id√™nticos, sendo costatumum que o console exiba nomes como:\nUm pilar do tidyverse √© a ado√ß√£o do princ√≠pio tidy (WICKHAM, 2014), em que:\nNesse contexto, a entidade observacional √© o conceito central que define o que uma linha representa. Pode ser um paciente em um estudo cl√≠nico, um pa√≠s em dados econ√¥micos ou, como nos exemplos a seguir:\nA estrutura de dados que implementa essa filosofia no tidyverse √© o tibble. Ele √© a vers√£o moderna do data.frame, projetado para ser mais pr√°tico e informativo, exibindo resumos concisos dos dados e fornecendo diagn√≥sticos mais √∫teis.\nUma vez apresentada a filosofia e a estrutura de dados do tidyverse, o foco se volta para a aplica√ß√£o pr√°tica. A seguir, a concentra√ß√£o do material residir√° nos dois pacotes centrais do tidyverse: o dplyr, para manipula√ß√£o de dados, e o ggplot2, para a cria√ß√£o de gr√°ficos.\nO dplyr √© um pacote do tidyverse que fornece um conjunto de ferramentas robustas e intuitivas para manipula√ß√£o de dados. Os comandos oferecidos soam um tanto quanto intuitivos, correspondendo a√ß√µes comuns na √°rea de an√°lise de dados. Para explorar as principais fun√ß√µes ser√° utilizado o dataset penguins, focando em processos de filtragem, organiza√ß√£o, transforma√ß√£o e resumos dos dados, permitindo responder a perguntas b√°sicas sobre a biologia e ecologia dos pinguins.\nO primeiro passo a ser feito √© instalar a biblioteca palmerpenguins e, em seguida, carreg√°-la no ambiente de trabalho, para que possamos realizar uma inspe√ß√£o inicial na estrutura dos dados.\ninstall.packages(\"palmerpenguins\") # Realizar apenas uma √∫nica vez\nlibrary(palmerpenguins)\nPara carregarmos os dados sobre pinguins no ambiente de trabalho, podemos utilizar a fun√ß√£o data():\ndata(\"penguins\", package = \"palmerpenguins\")\nPodemos observar que no painel Environment do RStudio, aparece o objeto penguins, isso significa que o conjunto de dados est√° carregado no ambiente de trabalho e podemos dar in√≠cio nas inspe√ß√µes. O primeiro comando que ser√° visto √© o glimpse(). Ele exibe, de maneira pr√°tica e r√°pida, a estrutura do dataset como: dimens√£o (n√∫mero de linhas e colunas), o nome de cada coluna, o tipo de dado de cada coluna e as primeiras observa√ß√µes.\nglimpse(penguins)\n\nRows: 344\nColumns: 8\n$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel‚Ä¶\n$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse‚Ä¶\n$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, ‚Ä¶\n$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, ‚Ä¶\n$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186‚Ä¶\n$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, ‚Ä¶\n$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male‚Ä¶\n$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007‚Ä¶\nA sa√≠da deste comando revela que existem 344 observa√ß√µes e 8 vari√°veis, sendo elas species, island, bill_length_mm, flipper_length_mm, body_mass_g, sex e year, com seus respectivos tipos, como factor para species e numeric para bill_length_mm. Al√©m disso, √© poss√≠vel observar dados ausentes em algumas vari√°veis, representados por NA. Em geral, nos datasets dispon√≠veis em pacotes R, √© poss√≠vel utilizar o comando help(penguins) para buscar informa√ß√µes sobre o conjunto de dados que ser√° trabalhado.\nExecutando o comando de ajuda, s√£o obtidas as seguintes informa√ß√µes sobre as vari√°veis:\nAdicionalmente, tamb√©m √© informado que os dados foram originalmente publicados no estudo de Gorman et al. (2014) e que essa pesquisa fez parte do programa Palmer Station Long-Term Ecological Research (LTER). Isso significa que o conjunto de dados que est√° sendo utilizado possui uma origem cient√≠fica real, ligada a quest√µes sobre como o ambiente e as diferen√ßas entre sexos afetam a vida dessas aves.\nA segunda fun√ß√£o que ser√° vista √© o select(). Frequentemente, um conjunto de dados cont√©m mais informa√ß√µes do que o necess√°rio para uma an√°lise espec√≠fica. Com isso em mente, a fun√ß√£o select() permite-nos selecionar colunas de interesse. Em geral, os argumentos s√£o os nomes das colunas.\npenguins %&gt;% \n  select(species, island, sex)\n\n# A tibble: 344 √ó 3\n   species island    sex   \n   &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt; \n 1 Adelie  Torgersen male  \n 2 Adelie  Torgersen female\n 3 Adelie  Torgersen female\n 4 Adelie  Torgersen &lt;NA&gt;  \n 5 Adelie  Torgersen female\n 6 Adelie  Torgersen male  \n 7 Adelie  Torgersen female\n 8 Adelie  Torgersen male  \n 9 Adelie  Torgersen &lt;NA&gt;  \n10 Adelie  Torgersen &lt;NA&gt;  \n# ‚Ñπ 334 more rows\nO dplyr tamb√©m oferece ‚Äúseletores auxiliares‚Äù que tornam a sele√ß√£o mais poderosa e flex√≠vel. Por exemplo, caso desejarmos selecionar todas as medidas biom√©tricas contidas no dataset que terminam com _mm, √© poss√≠vel usar a fun√ß√£o-argumento ends_with() dentro de select():\npenguins %&gt;% \n  select(\n    body_mass_g, ends_with(\"_mm\")\n  )\n\n# A tibble: 344 √ó 4\n   body_mass_g bill_length_mm bill_depth_mm flipper_length_mm\n         &lt;int&gt;          &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;\n 1        3750           39.1          18.7               181\n 2        3800           39.5          17.4               186\n 3        3250           40.3          18                 195\n 4          NA           NA            NA                  NA\n 5        3450           36.7          19.3               193\n 6        3650           39.3          20.6               190\n 7        3625           38.9          17.8               181\n 8        4675           39.2          19.6               195\n 9        3475           34.1          18.1               193\n10        4250           42            20.2               190\n# ‚Ñπ 334 more rows\nOutros seletores √∫teis incluem starts_with() e contains(). Para remover colunas, utiliza-se o sinal de menos (-). Por exemplo, deseja-se remover as colunas ano e island:\npenguins %&gt;% \n  select(-year, -island)\n\n# A tibble: 344 √ó 6\n   species bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex   \n   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt; \n 1 Adelie            39.1          18.7               181        3750 male  \n 2 Adelie            39.5          17.4               186        3800 female\n 3 Adelie            40.3          18                 195        3250 female\n 4 Adelie            NA            NA                  NA          NA &lt;NA&gt;  \n 5 Adelie            36.7          19.3               193        3450 female\n 6 Adelie            39.3          20.6               190        3650 male  \n 7 Adelie            38.9          17.8               181        3625 female\n 8 Adelie            39.2          19.6               195        4675 male  \n 9 Adelie            34.1          18.1               193        3475 &lt;NA&gt;  \n10 Adelie            42            20.2               190        4250 &lt;NA&gt;  \n# ‚Ñπ 334 more rows\nAntes prosseguirmos para a pr√≥xima fun√ß√£o, vale destacar que o conjunto de dados penguins √© um objeto tibble dentro do R e, portanto, por mais que existam 344 observa√ß√µes, o tibble enxuga a visualiza√ß√£o para somente 10, al√©m de indicar quantas linhas ainda existem.\nA terceira fun√ß√£o √© o filter(). Enquanto select() trabalha nas colunas, o filter() trabalha nas linhas, permitindo-nos manter apenas as observa√ß√µes que satisfazem certas condi√ß√µes. √â aqui que √© poss√≠vel responder perguntas investigadas com rela√ß√£o aos dados. Por exemplo, para encontrar todos os pinguins da esp√©cie Adelie que vivem na ilha Torgersen:\npenguins %&gt;% \n  filter(\n      species == \"Adelie\", island == \"Torgersen\"\n    )\n\n# A tibble: 52 √ó 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n 1 Adelie  Torgersen           39.1          18.7               181        3750\n 2 Adelie  Torgersen           39.5          17.4               186        3800\n 3 Adelie  Torgersen           40.3          18                 195        3250\n 4 Adelie  Torgersen           NA            NA                  NA          NA\n 5 Adelie  Torgersen           36.7          19.3               193        3450\n 6 Adelie  Torgersen           39.3          20.6               190        3650\n 7 Adelie  Torgersen           38.9          17.8               181        3625\n 8 Adelie  Torgersen           39.2          19.6               195        4675\n 9 Adelie  Torgersen           34.1          18.1               193        3475\n10 Adelie  Torgersen           42            20.2               190        4250\n# ‚Ñπ 42 more rows\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\nNeste exemplo, as condi√ß√µes separadas por v√≠rgula s√£o unidas por um ‚ÄúE‚Äù l√≥gico. Tamb√©m √© poss√≠vel utilizar o ‚ÄúOU‚Äù l√≥gico para determinar pinguins mais pesados (acima de 6000g) ou com bicos muito longos (mais de 55mm) atrav√©s do conectivo |:\npenguins %&gt;% \n  filter(\n    body_mass_g &gt; 6000 | bill_length_mm &gt; 55\n  )\n\n# A tibble: 6 √ó 8\n  species   island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;     &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Gentoo    Biscoe           49.2          15.2               221        6300\n2 Gentoo    Biscoe           59.6          17                 230        6050\n3 Gentoo    Biscoe           55.9          17                 228        5600\n4 Gentoo    Biscoe           55.1          16                 230        5850\n5 Chinstrap Dream            58            17.8               181        3700\n6 Chinstrap Dream            55.8          19.8               207        4000\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\nO filter() tamb√©m permite encontrar valores ausentes (NAs) em conjunto da fun√ß√£o is.na(). Por exemplo, deseja-se verificar quais pinguins n√£o tiveram seu sexo registrado:\npenguins %&gt;% \n  filter(is.na(sex))\n\n# A tibble: 11 √ó 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n 1 Adelie  Torgersen           NA            NA                  NA          NA\n 2 Adelie  Torgersen           34.1          18.1               193        3475\n 3 Adelie  Torgersen           42            20.2               190        4250\n 4 Adelie  Torgersen           37.8          17.1               186        3300\n 5 Adelie  Torgersen           37.8          17.3               180        3700\n 6 Adelie  Dream               37.5          18.9               179        2975\n 7 Gentoo  Biscoe              44.5          14.3               216        4100\n 8 Gentoo  Biscoe              46.2          14.4               214        4650\n 9 Gentoo  Biscoe              47.3          13.8               216        4725\n10 Gentoo  Biscoe              44.5          15.7               217        4875\n11 Gentoo  Biscoe              NA            NA                  NA          NA\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\nA interpreta√ß√£o do NA √© relativa ao contexto dos dados. No caso das observa√ß√µes sobre os pinguins, os valores ausentes na vari√°vel sex permite identificar pinguins que n√£o tiveram o sexo avaliado, tornando um prov√°vel erro frustrante de coleta de dados para um objeto de investiga√ß√£o. O pacote tidyr, tamb√©m do tidyverse, oferece a fun√ß√£o drop_na(), que remove quaisquer linhas que contenham NAs, permitindo a cria√ß√£o de um dataset auxiliar:\npenguins_completos &lt;- penguins %&gt;% \n  drop_na()\nA quarta fun√ß√£o que ser√° apresentada √© arrange(), que permite reordenar as linhas do dataframe com base nos valores de uma ou mais colunas. Isso √© √∫til para encontrar extremos ou simplesmente para organizar a sa√≠da de uma forma mais l√≥gica. Para encontrar os pinguins mais leves, ordenamos pela massa corporal em ordem crescente (o padr√£o):\npenguins %&gt;% \n  arrange(body_mass_g)\n\n# A tibble: 344 √ó 8\n   species   island   bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   &lt;fct&gt;     &lt;fct&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n 1 Chinstrap Dream              46.9          16.6               192        2700\n 2 Adelie    Biscoe             36.5          16.6               181        2850\n 3 Adelie    Biscoe             36.4          17.1               184        2850\n 4 Adelie    Biscoe             34.5          18.1               187        2900\n 5 Adelie    Dream              33.1          16.1               178        2900\n 6 Adelie    Torgers‚Ä¶           38.6          17                 188        2900\n 7 Chinstrap Dream              43.2          16.6               187        2900\n 8 Adelie    Biscoe             37.9          18.6               193        2925\n 9 Adelie    Dream              37.5          18.9               179        2975\n10 Adelie    Dream              37            16.9               185        3000\n# ‚Ñπ 334 more rows\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\nPara ordenar os valores em ordem decrescente (do maior para o menor), utilizamos a fun√ß√£o auxiliar desc(), desta maneira, encontramos os pinguins mais pesados:\npenguins %&gt;% \n  arrange(desc(body_mass_g))\n\n# A tibble: 344 √ó 8\n   species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n 1 Gentoo  Biscoe           49.2          15.2               221        6300\n 2 Gentoo  Biscoe           59.6          17                 230        6050\n 3 Gentoo  Biscoe           51.1          16.3               220        6000\n 4 Gentoo  Biscoe           48.8          16.2               222        6000\n 5 Gentoo  Biscoe           45.2          16.4               223        5950\n 6 Gentoo  Biscoe           49.8          15.9               229        5950\n 7 Gentoo  Biscoe           48.4          14.6               213        5850\n 8 Gentoo  Biscoe           49.3          15.7               217        5850\n 9 Gentoo  Biscoe           55.1          16                 230        5850\n10 Gentoo  Biscoe           49.5          16.2               229        5800\n# ‚Ñπ 334 more rows\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\nTamb√©m √© poss√≠vel ordenar m√∫ltiplas colunas. Por exemplo, para encontrar o pinguim mais pesado dentro de cada esp√©cie:\npenguins %&gt;% \n  arrange(\n    species, # Primeiro por esp√©cie\n    desc(body_mass_g) # Depois por massa decrescente\n  )\n\n# A tibble: 344 √ó 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n 1 Adelie  Biscoe              43.2          19                 197        4775\n 2 Adelie  Biscoe              41            20                 203        4725\n 3 Adelie  Torgersen           42.9          17.6               196        4700\n 4 Adelie  Torgersen           39.2          19.6               195        4675\n 5 Adelie  Dream               39.8          19.1               184        4650\n 6 Adelie  Dream               39.6          18.8               190        4600\n 7 Adelie  Biscoe              45.6          20.3               191        4600\n 8 Adelie  Torgersen           42.5          20.7               197        4500\n 9 Adelie  Dream               37.5          18.5               199        4475\n10 Adelie  Torgersen           41.8          19.4               198        4450\n# ‚Ñπ 334 more rows\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\nA quinta fun√ß√£o e, com certeza, uma das mais funcionais √© a mutate(). Ela permite criar novas colunas (vari√°veis) que s√£o fun√ß√µes de colunas j√° existentes, sem modificar as originais. Por exemplo, suponha que desejamos mostrar somente as esp√©cies e massas de pinguins em quilogramas (kg):\npenguins %&gt;% \n  mutate(body_mass_kg = body_mass_g/1000) %&gt;% \n  select(species, body_mass_kg)\n\n# A tibble: 344 √ó 2\n   species body_mass_kg\n   &lt;fct&gt;          &lt;dbl&gt;\n 1 Adelie          3.75\n 2 Adelie          3.8 \n 3 Adelie          3.25\n 4 Adelie         NA   \n 5 Adelie          3.45\n 6 Adelie          3.65\n 7 Adelie          3.62\n 8 Adelie          4.68\n 9 Adelie          3.48\n10 Adelie          4.25\n# ‚Ñπ 334 more rows\nPodemos usar mutate() para criar categorias. A fun√ß√£o case_when() √© extremamente √∫til para criar classifica√ß√µes baseadas em condi√ß√µes l√≥gicas., Suponha que desejamos criar uma categoria de tamanho baseada na massa corporal:\npenguins %&gt;% \n  mutate(\n    size_category = case_when(\n      body_mass_g &gt; 4750 ~ \"Grande\",\n      body_mass_g &lt; 3500 ~ \"Pequeno\",\n      TRUE ~ \"M√©dio\"\n    )\n  ) %&gt;% \n  select(\n    species, body_mass_g, size_category\n  )\n\n# A tibble: 344 √ó 3\n   species body_mass_g size_category\n   &lt;fct&gt;         &lt;int&gt; &lt;chr&gt;        \n 1 Adelie         3750 M√©dio        \n 2 Adelie         3800 M√©dio        \n 3 Adelie         3250 Pequeno      \n 4 Adelie           NA M√©dio        \n 5 Adelie         3450 Pequeno      \n 6 Adelie         3650 M√©dio        \n 7 Adelie         3625 M√©dio        \n 8 Adelie         4675 M√©dio        \n 9 Adelie         3475 Pequeno      \n10 Adelie         4250 M√©dio        \n# ‚Ñπ 334 more rows\nAs fun√ß√µes group_by() e summarise() formam uma dupla formid√°vel para agrupar e resumir os dados, pertencendo ao cora√ß√£o da an√°lise de dados. A fun√ß√£o summarise() erve para calcular estat√≠sticas resumidas (como m√©dia, total, m√≠nimo etc.) e, quando usada em conjunto com group_by() permite gerar resumos por grupo.\nInicialmente, vamos utilizar o summarise() no dataset completo para obter estat√≠sticas globais. N√£o obstante, √© bom frisar a utiliza√ß√£o do argumento na.rm = TRUE para instruir a remo√ß√£o dos valores NA.\npenguins %&gt;% \n  summarise(\n    massa_media = mean(body_mass_g, na.rm = TRUE),\n    nadadeira_max = max(flipper_length_mm, na.rm = TRUE)\n  )\n\n# A tibble: 1 √ó 2\n  massa_media nadadeira_max\n        &lt;dbl&gt;         &lt;int&gt;\n1       4202.           231\nNo entanto, essas m√©tricas n√£o fornecem informa√ß√µes com rela√ß√£o as esp√©cies de pinguins. Para resolver isso e possibilitar que mais perguntas sejam respondidas, a fun√ß√£o group_by() permite que o R fa√ßa opera√ß√µes em subconjuntos. Por exemplo, suponha que desejamos determinar qual √© a massa corporal por esp√©cie:\npenguins %&gt;% \n  group_by(species) %&gt;% \n  summarise(\n    massa_media_g = mean(body_mass_g, na.rm = TRUE)\n  )\n\n# A tibble: 3 √ó 2\n  species   massa_media_g\n  &lt;fct&gt;             &lt;dbl&gt;\n1 Adelie            3701.\n2 Chinstrap         3733.\n3 Gentoo            5076.\nPodemos fazer agrupamentos por m√∫ltiplas vari√°veis para investiga√ß√µes mais profundas. Por exemplo, considere que um pesquisador deseja explorar o dimorfismo sexual. Para isso, estat√≠sticas por esp√©cie e sexo ser√£o calculadas.\ntabela_resumo &lt;- penguins %&gt;% \n  drop_na(sex) %&gt;% \n  group_by(species, sex) %&gt;% \n  summarise(\n    contagem = n(),\n    massa_media_g = mean(body_mass_g),\n    massa_dp_g = sd(body_mass_g),\n    comp_bico_medio_mm = mean(bill_length_mm),\n    .groups = \"drop\"\n  )\ntabela_resumo\nTabela¬†3.1: Estat√≠sticas descritivas de caracter√≠sticas biom√©tricas de pinguins, agrupadas por esp√©cie e sexo.\nVale refor√ßar que a Tabela¬†3.1 foi gerada usando o dplyr, com as fun√ß√µes auxiliares n() para realizar a contagem de observa√ß√µes em cada grupo e drop_na(sex) para remover as observa√ß√µes onde o sexo √© desconhecido, permitindo avaliar dimorfismo sexual em todas as tr√™s esp√©cies, especialmente na massa corporal. O grande potencial dessa tabela √© obter respostas como:\nEsses resultados permitem tirar conclus√µes sobre algumas hip√≥teses biol√≥gicas.\nPor fim, a √∫ltima fun√ß√£o que ser√° abordada √© a recode(). Muitas vezes, os nomes das categorias nos conjuntos de dados n√£o s√£o ideais para a an√°lise ou apresenta√ß√£o em gr√°ficos. Podem ser longos demais, estarem em outro idioma ou simplesmente n√£o serem claros. Para isso, a fun√ß√£o recode() permite renomear valores de uma vari√°vel categ√≥rica de forma simples e direta. Por exemplo, suponha que desejamos traduzir os termos da vari√°vel sex da Tabela¬†3.1 para o portugu√™s:\ntabela_resumo %&gt;% \n  mutate(\n    sex = recode(sex,\n                 \"female\" = \"F√™mea\",\n                 \"male\" = \"Macho\")\n  )\nTabela¬†3.2: Tradu√ß√£o da vari√°vel sexo da Tabela¬†3.1.\nAs principais fun√ß√µes do pacote dplyr que foram vistas est√£o resumidas e descritas na Tabela Tabela¬†3.3 e agora que aprendemos como manipular os dados com o dplyr, podemos avan√ßar para a constru√ß√£o de gr√°ficos com o pacote ggplot2.\nTabela¬†3.3: Descri√ß√£o das principais fun√ß√µes do tidyverse.\n\n\n\n\n\n\nFun√ß√£o\nDescri√ß√£o\n\n\n\n\nglimpse()\nInspecionar conjuntos de dados.\n\n\nselect()\nSeleciona colunas pelo nome.\n\n\nfilter()\nFiltra linhas com base em seus valores.\n\n\narrange()\nReordena as linhas.\n\n\nmutate()\nCria novas colunas (vari√°veis).\n\n\ngroup_by()\nAgrupa os dados por uma ou mais vari√°veis.\n\n\nsummarise()\nReduz m√∫ltiplos valores a um √∫nico resumo.\n\n\nrecode()\nRenomeia categorias de vari√°veis.\n\n\nn()\nConta o n√∫mero de observa√ß√µes.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "03-tidyverse.html#manipula√ß√£o-de-dados-com-o-pacote-dplyr",
    "href": "03-tidyverse.html#manipula√ß√£o-de-dados-com-o-pacote-dplyr",
    "title": "3¬† Tidyverse",
    "section": "",
    "text": "species: um fator que denota a esp√©cie do pinguim (Ad√©lie, Chinstrap ou Gentoo).\nisland: um fator que denota ilhas no Arquip√©lago Palmer na Ant√°rtica (Biscoe, Dream ou Torgersen).\nbill_length_mm: um n√∫mero que representa o comprimento do bico (em mil√≠metros).\nbill_depth_mm: um n√∫mero que representa a profundidade do bico (em mil√≠metros).\nflipper_length_mm: um n√∫mero que representa o comprimento da nadadeira (em mil√≠metros).\nbody_mass_g: um n√∫mero inteiro que representa a massa do animal (em gramas).\nsex: um fator que representa o sexo do animal (feminino ou masculino).\nyear: um n√∫mero inteiro que denota o ano de estudo (2007, 2008 ou 2009).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOs pinguins Gentoo s√£o, em m√©dia, os mais pesados.\nDentro de cada esp√©cie, os machos s√£o consistentemente mais pesados e t√™m bicos mais longo que as f√™meas.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "03-tidyverse.html#visualiza√ß√£o-de-dados-com-ggplot2",
    "href": "03-tidyverse.html#visualiza√ß√£o-de-dados-com-ggplot2",
    "title": "3¬† Tidyverse",
    "section": "3.2 Visualiza√ß√£o de Dados com ggplot2",
    "text": "3.2 Visualiza√ß√£o de Dados com ggplot2\nSe o dplyr √© a gram√°tica da manipula√ß√£o de dados, possuindo fun√ß√µes essenciais para esse trabalho, o ggplot2 (WICKHAM, 2016) √© gram√°tica dos gr√°ficos, permitindo construir gr√°ficos por meio de camadas e oferecendo um sistema robusto e flex√≠vel para visualiza√ß√£o os dados. Nesta se√ß√£o, continuaremos utilizando os dados dos pinguins para explorar alguns insights visuais, desde gr√°ficos mais simples at√© os mais elaborados.\nTodo gr√°fico no ggplot2 √© constitu√≠do por tr√™s camadas essenciais:\n\nDados (data): O dataframe que cont√©m as informa√ß√µes a serem plotadas.\nMapeamento Est√©ticos (aes): A fun√ß√£o aes() (de aesthetics) descreve como as vari√°veis do nosso dataframe s√£o mapeadas para as propriedades visuais do gr√°fico. As est√©ticas mais comuns s√£o x e y (os eixos), mas tamb√©m incluem color (cor), shape (forma), size (tamanho) e alpha (transpar√™ncia/opacidade).\nObjetos geom√©tricos (geom): Os geoms definem como os dados s√£o representados visualmente. Por exemplo, geom_point() cria um gr√°fico de dispers√£o, geom_bar() cria um gr√°fico de barras, geom_line() cria um gr√°fico de linhas, e assim por diante.\n\n\n3.2.1 Estat√≠stica descritiva\nAntes de explorar as rela√ß√µes gr√°ficas, √© √∫til enfatizar e entender alguns conceitos essenciais da Estat√≠stica Descritiva como os tipos de vari√°veis, normas para tabelas e as defini√ß√µes de frequ√™ncias.\n\nEm geral, pode-se dizer que existem duas categorias de vari√°veis dentro da estat√≠stica:\n\nVari√°veis Qualitativas: Tamb√©m chamadas por vari√°veis categ√≥ricas e como o pr√≥prio nome diz, expressam qualidade e indicam categoria ou classifica√ß√£o a qual o objeto pertence. Se existir uma ordem entre as poss√≠veis categorias, a vari√°vel √© dita qualitativa ordinal. Caso contr√°rio, √© dita ser qualitativa nominal.\nVari√°veis Quantitativas: S√£o vari√°veis que tomam valores num√©ricos e expressam quantidade. Podem ser especificadas por Vari√°veis Discretas, quando assumem valores dentro de um conjunto enumer√°vel (quando √© poss√≠vel cont√°-las) ou por Vari√°veis Continuas, quando podem assumir infinitos valores de um intervalo n√£o inumer√°vel2 (n√£o √© poss√≠vel contar o n√∫mero de valores dentro de um intervalo).\n\nAssim, para explorar e apresentar as informa√ß√µes contidas num conjunto de dados, precisamos resumir essas informa√ß√µes de forma que seja poss√≠vel enxerg√°-las rapidamente e adquirir conhecimento sobre o assunto.\nO resumo pode ser feito por meio de tabelas, gr√°ficos e c√°lculo de algumas quantidades representativas. O primeiro passo √© identificar o tipo de cada vari√°vel para aplicarmos a t√©cnica apropriada.\nNo entanto, antes de explorarmos a organiza√ß√£o dos dados em tabelas e gr√°ficos, s√£o necess√°rios conceitos sobre algumas m√©tricas essenciais denominadas por medidas resumo. Elas oferecem uma forma num√©rica e concisa de descrever as principais caracter√≠sticas das vari√°veis que ser√£o trabalhadas. Em geral, s√£o divididas em duas categorias essenciais: as medidas de tend√™ncia central, que informam onde o ‚Äúcentro‚Äù dos dados se localiza (como a m√©dia, mediana e moda), e as medidas de dispers√£o, que quantificam o qu√£o espalhados os dados est√£o (como a amplitude, o desvio padr√£o e a vari√¢ncia).\nA m√©dia aritm√©tica √© definida como sendo a soma de todos os valores dividida pelo n√∫mero de observa√ß√µes ou indiv√≠duos, ou seja, denotando-se as \\(n\\) observa√ß√µes de uma vari√°vel \\(X\\) por \\(x_1, x_2, \\dots, x_n\\) e a m√©dia por \\(\\bar{x}\\) temos: \\[\\bar{x} = \\frac{1}{n}\\sum_{i = 1}^{n} x_i\\] As principais propriedades da m√©dia s√£o:\n\n√â uma medidas simples e popular;\n√â sens√≠vel aos valores e discrepantes ou extremos. Portanto, na presen√ßa destes, a m√©dia pode n√£o ser uma representa√ß√£o de valores t√≠picos;\n√â o ponto de equil√≠brio da distribui√ß√£o;\nPara \\(k\\) constante e \\(X\\) vari√°vel, t√™m-se que a m√©dia de \\((X + k)\\) √© \\((\\bar{x} + k)\\) e, tamb√©m, a m√©dia de \\((kX)\\) √© \\((k\\bar{x})\\).\nPara \\(X\\) e \\(Y\\) vari√°veis independentes, a m√©dia de \\((X\\pm Y)\\) √© \\((\\bar{x} \\pm \\bar{y})\\).\n\nA mediana √© o valor do meio de uma distribui√ß√£o, ou seja, num histograma, √© o valor que deixa exatamente 50% dos dados de cada lado. Para determinar o valor exato da mediana √© necess√°rio ordenar todos os valores, do menor para o maior. Se \\(n\\), o n√∫mero de observa√ß√µes, √© √≠mpar ent√£o a mediana √© o valor que fica exatamente no centro; se \\(n\\) √© par, ent√£o √© a m√©dia dos dois valores centrais.\nAs principais propriedades da mediana s√£o:\n\nN√£o √© sens√≠vel a valores discrepantes e, portanto, √© a mais apropriada para representar valores t√≠picos quando a distribui√ß√£o √© assim√©trica;\nN√£o apresenta as propriedades matem√°ticas convenientes que a m√©dia possui.\n\nQuando a distribui√ß√£o √© sim√©trica, m√©dia e mediana s√£o iguais. No entanto, caso contr√°rio, a m√©dia estar√° mais afastada do meio que a mediana no sentido de uma cauda mais longa.\nA moda √© simplesmente o valor mais frequente da vari√°vel de estudo e para distribui√ß√µes sim√©tricas, m√©dia, mediana e moda possuem valores iguais.\nUma vez reconhecido o centro da distribui√ß√£o, √© necess√°rio ter uma ideia do quanto os valores est√£o distantes deste centro. Quanto mais heterog√™neo forem os dados, maior a dispers√£o e vice-versa. Dentre as m√©tricas que d√£o essa ideia, destacam-se:\nA amplitude definida pela diferen√ßa entre o maior e o menor valor. Al√©m disso, √© sens√≠vel a valores extremos. O primeiro quartil (\\(q_1\\)) e terceiro quartil (\\(q_3\\)), que dividem, respectivamente, o conjunto de dados em 25% e 75%. √â v√°lido ressaltar que todo conjunto de dados apresentam 3 quartis, dividindo o conjunto ordenado em quatro partes iguais, al√©m disso, o segundo quartil (\\(q_2\\)) √© igual a mediana. Essas medidas s√£o √∫teis na constru√ß√£o do gr√°fico de caixa (boxplot) que ser√° visto em sequ√™ncia.\nO desvio padr√£o (\\(s\\)) √© a medida de dispers√£o mais popular e mede a dispers√£o de todos os valores em rela√ß√£o √† m√©dia. Para calcul√°-lo, primeiramente calcula-se a vari√¢ncia, denotada por \\(s^2\\), que √© definida por: \\[s^2 = \\mathbb{V}(X) = \\frac{1}{n-1}\\sum_{i = 1}^{n}(x_i - \\bar{x})^2 = \\frac{1}{n-1}\\left(\\sum_{i = 1}^{n}x_i^2 - \\frac{\\left(\\sum_{i = 1}^{n} x_i\\right)^2}{n}\\right)\\] a diferen√ßa \\((x_i - \\bar{x})\\) √© chamada de desvio, representando o quanto o indiv√≠duo \\(i\\) desviou da m√©dia geral. A vari√¢ncia representa a m√©dia dos quadrados dos desvios em rela√ß√£o √† m√©dia. Al√©m disso, observe que a unidade de medida da vari√¢ncia √© a unidade da vari√°vel \\(x\\) ao quadrado, dificultando sua interpreta√ß√£o e, para lidar com isso, utiliza-se o desvio-padr√£o, visto que √© seu valor est√° na mesma escala de medida das observa√ß√µes, em que valores altos indica que os dados est√£o bastante dispersos e valores baixos, os indiv√≠duos est√£o pr√≥ximos da m√©dia, mostrando uma homogeneidade nos dados. As principais propriedades da vari√¢ncia (ou do desvio padr√£o) s√£o:\n\nPara \\(k\\) constante, \\(\\mathbb{V}(k) = 0\\), \\(\\mathbb{V}(k + X) = \\mathbb{V}(X)\\), \\(\\mathbb{V}(kX) = k^2\\mathbb{V}(X)\\);\nPara \\(X\\) e \\(Y\\) vari√°veis independentes, \\(\\mathbb{V}(X \\pm Y) = \\mathbb{V}(X) + \\mathbb{V}(Y)\\);\n√â sens√≠vel aos valores discrepantes e, portanto, s√≥ deve ser usada quando a distribui√ß√£o √© sim√©trica ou aproximadamente sim√©trica.\n\nPor fim, existe o coeficiente de vari√ß√£o (\\(\\text{cv}\\)), que √© uma medida de dispers√£o em termos de porcentagem da m√©dia: \\[\\text{cv} = \\frac{s}{\\bar{x}}\\times 100,\\] em que n√£o h√° unidade de medida e, portanto, serve como m√©trica de compara√ß√£o na varia√ß√£o de vari√°veis diferentes.\nDentro do R, a fun√ß√£o summary() √© a chave mestre que calcula quase todas as m√©tricas que foram vistas. Para exemplificar, selecionaremos apenas a vari√°vel bill_length do conjunto de dados penguins (Tabela¬†3.4).\n\npenguins %&gt;% \n  select(bill_length_mm) %&gt;% \n  summary()\n\n\n\n\n\nTabela¬†3.4: Sa√≠da da fun√ß√£o summary()\n\n\n\n\n\n\nVari√°vel\nMin\n1¬∫ Quad.\nMediana\nM√©dia\n3¬∫ Quad.\nMax\nNAs\n\n\n\n\nbill_length_mm\n32.1\n39.225\n44.45\n43.92193\n48.5\n59.6\n2\n\n\n\n\n\n\n\n\nEnquanto as medidas resumo nos fornecem valores pontuais para compreens√£o do centro e a dispers√£o, as tabelas oferecem uma vis√£o panor√¢mica da distribui√ß√£o dos dados. Organizar as informa√ß√µes de forma tabular √© o primeiro para visualizar as frequ√™ncias de cada categoria ou intervalo, complementando a an√°lise num√©rica anterior.\nAs normas gerais para constru√ß√£o de uma tabela envolvem:\n\nDevem ser auto-explicativas.\nDevem conter um t√≠tulo, que precisa ser simples e claro, indicando informa√ß√µes sobre os dados (do que, onde e quando foram coletados ‚Äì se forem relevantes).\n\nAl√©m das normas gerais, existem duas conven√ß√µes importantes a serem seguidas com rela√ß√£o ao t√≠tulo de tabelas e gr√°ficos:\n\nEm tabelas os t√≠tulos vem primeiro, em cima da tabela.\nEm gr√°ficos os t√≠tulos vem por √∫ltimo, embaixo do gr√°fico.\n\nSe necess√°rio, notas e fontes v√™m embaixo, em ambos os casos. Uma tabela come√ßa e termina com um tra√ßo horizontal e tra√ßos na vertical devem ser evitados, conforme visto na Tabela¬†3.1 por exemplo.\nUma forma adequada para resumir informa√ß√µes sobre uma vari√°vel numa tabela √© atrav√©s da constru√ß√£o de uma tabela de frequ√™ncias, que informa quais valores ou categorias a vari√°vel pode tomar, com suas respectivas frequ√™ncias. Quando a vari√°vel √© qualitativa, as frequ√™ncias v√£o revelar se temos categorias mais comuns (t√≠picas) e categorias raras ou se a distribui√ß√£o √© uniforme/homog√™nea. J√° quando a vari√°vel √© quantitativa, as frequ√™ncias revelar√£o os valores t√≠picos e/ou a distribui√ß√£o dos valores √© sim√©tricas ou assim√©trica.\nExistem alguns tipos de frequ√™ncia que podem ser utilizados para resumir as informa√ß√µes, dentre eles:\n\nFrequ√™ncia absoluta ou simplesmente frequ√™ncia (\\(f\\)): √© a contagem do n√∫mero de vezes que um valor ou categoria aparece.\nFrequ√™ncia relativa (\\(\\text{fr} = f/n\\)): quando esse valor √© multiplicado por \\(100\\), informa a porcentagem do aparecimento de uma determinada categoria sobre o n√∫mero total de contagem.\nFrequ√™ncia acumulada (\\(\\text{fa}\\)): √© a frequ√™ncia acumulada at√© um valor espec√≠fico.\nFrequ√™ncia acumulada relativa (\\(\\text{far} = \\text{fa}/n\\)): quando esse valor √© multiplicado por \\(100\\), informa a porcentagem acumulada do aparecimento de uma determinada categoria sobre o n√∫mero total de contagem.\n\nA Tabela¬†3.5 cont√©m as informa√ß√µes sobre as frequ√™ncias de cada esp√©cie de pinguim existente no conjunto de dados penguins. As informa√ß√µes b√°sicas que podem ser extra√≠das √© que entre as esp√©cies dentro do estudo sobre pinguins 44.2% s√£o Adelie, 36% s√£o Gentoo e 19.8% s√£o Chinstrap.\n\n\n\n\nTabela¬†3.5: Distribui√ß√£o de frequ√™ncias para as esp√©cies de Pinguins.\n\n\n\n\n\n\nEsp√©cies\nFrequ√™ncia\nFrequ√™ncia absoluta\nPorcentagem\n\n\n\n\nAdelie\n152\n0.442\n44.2\\%\n\n\nGentoo\n124\n0.360\n36\\%\n\n\nChinstrap\n68\n0.198\n19.8\\%\n\n\nTotal\n344\n1.000\n100\\%\n\n\n\n\n\n\n\n\nQuando a vari√°vel √© quantitativa e assume muitos valores distintos, para resumir e capturar o padr√£o da distribui√ß√£o, esses valores devem ser agrupados em intervalos. A quantidade de intervalos √© arbitr√°rio, no entanto, n√£o pode ser nem muito baixo e nem muito alto. O pr√≥ximo passo √© especificar os intervalos, contando quantos valores aparecem dentro de cada um deles.\nPara exemplificar, utilizaremos a vari√°vel body_mass_g de nosso conjunto de dados sobre os pinguins. Em geral, segue-se os passos:\n\nCalcular a amplitude (\\(A\\)) dos dados.\n\n\npenguins %&gt;% \n  summarise(\n    maior = max(body_mass_g, na.rm = TRUE),\n    menor = min(body_mass_g, na.rm = TRUE),\n    amplitude = max(body_mass_g, na.rm = TRUE) - min(body_mass_g, na.rm = TRUE))\n\n# A tibble: 1 √ó 3\n  maior menor amplitude\n  &lt;int&gt; &lt;int&gt;     &lt;int&gt;\n1  6300  2700      3600\n\n# Ou ainda\nA &lt;- penguins %&gt;% \n  summarise(\n    amplitude = diff(range(body_mass_g, na.rm = TRUE))\n  )\n\n\nEncontrar o comprimento aproximado de cada intervalo, dividindo \\(A\\) pelo n√∫mero de intervalos desejados.\n\n\nA/6\n\n  amplitude\n1       600\n\n\nA partir da Tabela¬†3.6 e pela coluna das frequ√™ncias relativas, observa-se que a distribui√ß√£o do peso √© assim√©trica. Em breve, isso ser√° observado graficamente.\n\n\n\n\nTabela¬†3.6: Distribui√ß√£o de frequ√™ncias para a massa corporal (g) dos pinguins.\n\n\n\n\n\n\nMassa corporal (g)\nFrequ√™ncia\nf.r. (\\%)\nf.a.r. (\\%)\n\n\n\n\n2700 $\\vdash$ 3300\n34\n9.94\\%\n9.94\\%\n\n\n3300 $\\vdash$ 3900\n110\n32.16\\%\n42.11\\%\n\n\n3900 $\\vdash$ 4500\n80\n23.39\\%\n65.5\\%\n\n\n4500 $\\vdash$ 5100\n60\n17.54\\%\n83.04\\%\n\n\n5100 $\\vdash$ 5700\n41\n11.99\\%\n95.03\\%\n\n\n5700 $\\vdash$ 6300\n17\n4.97\\%\n100\\%\n\n\n\n\n\n\n\n\n\n\n3.2.2 Tipos de gr√°ficos\nAs distribui√ß√µes de frequ√™ncias podem ser representadas em gr√°ficos, que facilitam a interpreta√ß√£o visual do comportamento dos dados. Os gr√°ficos mais comuns, segundo o tipo de vari√°vel, s√£o:\n\nBarras ou colunas: apropriado para vari√°veis qualitativas e quantitativas discretas.\nSetores: qualitativas nominais com poucas categorias.\nHistograma: qualitativas cont√≠nuas.\nBox-plot: quantitativas.\nDiagrama de dispers√£o: relaciona duas quantitativas.\nGr√°fico de linhas: evolu√ß√£o de quantitativa ao longo do tempo ou espa√ßo.\n\nCom esse conhecimento em mente podemos prosseguir para as constru√ß√µes dos gr√°ficos utilizando o ggplot2\n\n3.2.2.1 Visualizando uma √∫nica vari√°vel\nPara visualizar a distribui√ß√£o de uma vari√°vel cont√≠nua como a massa corporal, utiliza-se o histograma com a fun√ß√£o geom_histogram(). Como j√° foi visto, a escolha do n√∫mero de colunas √© arbitr√°rio e pode afetar significativamente a apar√™ncia e a interpreta√ß√£o do gr√°fico.\n\npenguins %&gt;% \n  ggplot(mapping = aes(x = body_mass_g))+\n    geom_histogram(color = \"white\", fill = \"steelblue\",\n                   breaks = seq(2700, 6300, by = 600), \n                   closed = \"left\")+\n    scale_x_continuous(\n      breaks = seq(2700, 6300, by = 600),\n      labels = seq(2700, 6300, by = 600),\n      limits = c(2700, 6300)\n    )+\n    labs(\n      x = \"Massa corporal (g)\",\n      y = \"Contagem\"\n    )+\n    ggthemes::theme_clean()\n\n\n\n\nDistribui√ß√£o da massa corporal (g) dos pinguins.\n\n\n\n\nObserve que a biblioteca ggthemes foi utilizada para melhorar o aspecto est√©tico do gr√°fico, fornecendo temas adicionais. Portanto, √© recomend√°vel instal√°-la e carreg√°-la no espa√ßo de trabalho.\n\n# install.packages(\"ggthemes\")\nlibrary(ggthemes)\n\nPara vari√°veis categ√≥ricas, como species, usamos o geom_bar() para criar um gr√°fico de barras que mostra a contagem de observa√ß√µes em cada categoria.\n\npenguins %&gt;% \n  ggplot(mapping = aes(x = species, fill = species))+\n    geom_bar()+\n    labs(\n      x = \"Esp√©cie\",\n      y = \"N√∫mero de Indiv√≠duos\"\n    )+\n    labs(\n        x = \"Massa corporal (g)\",\n        y = \"Contagem\",\n        fill = \"Esp√©cies\"\n      )+\n    theme_clean()+\n    theme(legend.position = \"bottom\")\n\n\n\n\nDistribui√ß√£o de Pinguins por Esp√©cie.\n\n\n\n\n\n\n3.2.2.2 Rela√ß√µes entre vari√°veis\nO gr√°fico de dispers√£o √© a ferramenta cl√°ssica para explorar rela√ß√µes entre duas vari√°veis num√©ricas. Investigaremos a rela√ß√£o existente entre o comprimento da nadadeira e a massa corporal. A hip√≥tese √© que pinguins com nadadeiras maiores tamb√©m ser√£o mais pesados, uma rela√ß√£o positiva e intuitiva que serve como um excelente par√¢metro de partida.\n\npenguins %&gt;% \n  ggplot(aes(x = flipper_length_mm, y = body_mass_g))+\n    geom_point()+\n    labs(\n      x = \"Comprimento da Nadadeira (mm)\",\n      y = \"Mass corporal (g)\"\n    )+\n  theme_clean()\n\n\n\n\n\n\n\nFigura¬†3.1: Rela√ß√£o entre o tamanho da nadadeira (mm) e o peso corporal (g) dos pinguins.\n\n\n\n\n\nA Figura¬†3.1 informa uma clara tend√™ncia positiva entre a nadadeira e o peso corporal dos pinguins. Mas ser√° que esse tend√™ncia √© a mesma para todas as esp√©cies? Para responder essa pergunta, atrav√©s da fun√ß√£o aes(), √© poss√≠vel adicionar est√©ticas adicionais como shape, color ou size para distinguir as esp√©cies no gr√°fico. O argumento a ser utilizado depender√° onde a imagem ser√° utilizada. Por exemplo, em uma revista cient√≠fica, que solicita gr√°ficos em preto e branco, √© aconselh√°vel utilizar shape ou size.\n\npenguins %&gt;% \n  ggplot(aes(x = flipper_length_mm, y = body_mass_g, color = species))+\n    geom_point()+\n    labs(\n      x = \"Comprimento da Nadadeira (mm)\",\n      y = \"Massa corporal (g)\",\n      color = \"Esp√©cies\"\n    )+\n    theme_clean()+\n    theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\nFigura¬†3.2: Rela√ß√£o entre o tamanho da nadadeira (mm) e o peso corporal (g) por esp√©cie dos pinguins.\n\n\n\n\n\nA Figura¬†3.2 revela detalhes mais pertinentes, mostrando que a rela√ß√£o entre massa corporal e comprimento da nadadeira mant√™m-se positiva (n√≠vel de grupo).\nPara comparar a distribui√ß√£o de uma vari√°vel num√©rica entre diferentes categorias, o boxplot3 (geom_boxplot()) √© uma excelente ferramenta. Para isso, vamos comparar a distribui√ß√£o da massa corporal entre as tr√™s esp√©cies.\n\npenguins %&gt;% \n  ggplot(aes(x = species, y = body_mass_g, fill = species))+\n    geom_boxplot()+\n    labs(\n      x = \"Esp√©cies\",\n      y = \"Massa corporal (g)\",\n      fill = \"Esp√©cies\"\n    )+\n    theme_clean()+\n    theme(legend.position = \"none\")\n\n\n\n\nBoxplot para a massa corporal (g) por esp√©cies de pinguins.\n\n\n\n\nUma alternativa ao geom_boxplot() √© o geom_violin(), que traz um detalhamento sobre os dados de uma maneira mais simples. Adicionalmente, podemos utilizar o geom_jitter() para evitar a sobreposi√ß√£o dos dados, enriquecendo o visual do gr√°fico.\n\npenguins %&gt;% \n  ggplot(aes(x = species, y = body_mass_g, fill = species))+\n    geom_violin(alpha = 0.5)+\n    geom_jitter(width = 0.1, alpha = 0.5)+\n    labs(\n      x = \"Esp√©cie\",\n      y = \"Massa corporal (g)\"\n    )+\n    theme_clean()+\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\n\n3.2.3 T√©cnicas avan√ßadas de visualiza√ß√£o e comunica√ß√£o\nCom a base da constru√ß√£o de gr√°ficos vista anteriormente, √© poss√≠vel explorar t√©cnicas para criar gr√°ficos mais ricos e informativos, complementando informa√ß√µes descobertas de forma eficaz.\n\n\n3.2.4 Sub-gr√°ficos com facet_wrap()\nAs facetas permitem criar uma matriz de gr√°ficos, dividindo os dados com uma base em uma ou mais vari√°veis categ√≥ricas. Isso √© extremamente √∫til para compara√ß√µes. Para exemplificar, vamos utilizar o gr√°fico de dispers√£o e segment√°-lo para a vari√°vel sex.\n\npenguins %&gt;% \n  filter(!is.na(sex)) %&gt;% \n  mutate(\n  sex = recode(sex,\n         \"female\" = \"F√™mea\",\n         \"male\" = \"Macho\")\n  ) %&gt;% \n  ggplot(aes(x = flipper_length_mm, y = body_mass_g, color = species))+\n    geom_point()+\n    facet_wrap(~ sex)+\n    labs(\n      x = \"Comprimento da nadadeira (mm)\",\n      y = \"Massa corporal (g)\",\n      color = \"Esp√©cies\"\n    )+\n    theme_clean()+\n    theme(legend.position = \"bottom\")\n\n\n\n\nDistribui√ß√£o de massa corporal (g) por esp√©cie.\n\n\n\n\nNeste gr√°fico, fica evidente que os pinguins f√™meas possuem menos massa corporal que os machos e, quanto as esp√©cies, Gentoo √© que concentra a maior massa. Contudo, pode ser do interesse do pesquisador al√©m de verificar a massa corporal por sexo, tamb√©m incluir a vari√°vel island.\n\npenguins %&gt;% \n  filter(!is.na(sex)) %&gt;% \n  mutate(\n  sex = recode(sex,\n         \"female\" = \"F√™mea\",\n         \"male\" = \"Macho\")\n  ) %&gt;% \n  ggplot(aes(x = flipper_length_mm, y = body_mass_g, color = species))+\n    geom_point()+\n    facet_wrap(island ~ sex)+\n    labs(\n      x = \"Comprimento da nadadeira (mm)\",\n      y = \"Massa corporal (g)\",\n      color = \"Esp√©cies\"\n    )+\n    theme_clean()+\n    theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\nFigura¬†3.3: Distribui√ß√£o de massa corporal (g) nas ilhas por esp√©cie.\n\n\n\n\n\nA partir da Figura¬†3.3 √© poss√≠vel reparar que nem todas as esp√©cies est√£o presentes nas tr√™s ilhas simultaneamente. Al√©m disso, a ilha de Biscoe √© a que apresenta o maior percentual de massa corporal dos pinguins, isto √©, a esp√©cie Gentoo √© a predominante.\n\n\n\n\nGORMAN, Kristen B. et al. Ecological Sexual Dimorphism and Environmental Variability within a Community of Antarctic Penguins (Genus Pygoscelis). PLOS ONE, v. 9, n. 3, p. e90081, 2014.\n\n\nWICKHAM, Hadley. Tidy Data. Journal of Statistical Software, v. 59, p. 1‚Äì23, set. 2014.\n\n\nWICKHAM, Hadley. Ggplot2. Cham: Springer International Publishing, 2016.\n\n\nWICKHAM, Hadley et al. Welcome to the Tidyverse. Journal of Open Source Software, v. 4, n. 43, p. 1686, nov. 2019.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "03-tidyverse.html#footnotes",
    "href": "03-tidyverse.html#footnotes",
    "title": "3¬† Tidyverse",
    "section": "",
    "text": "A partir da vers√£o 4.1 do R, existe tamb√©m o operador pipe nativo |&gt;. No entanto, nesta apostila manteremos o uso de %&gt;%, amplamente adotado no contexto do tidyverse.‚Ü©Ô∏é\nTente contar os n√∫meros do conjunto \\(A = \\{1,2,3,4\\}\\) e, tamb√©m, de \\(B = [1,4]\\). Observe que no conjunto \\(A\\) h√° 4 elementos, enquanto em \\(B\\) h√° infinitos valores de 1 a 4.‚Ü©Ô∏é\nTamb√©m chamado por gr√°fico de caixas.‚Ü©Ô∏é",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "04-pratica.html",
    "href": "04-pratica.html",
    "title": "4¬† Pr√°tica",
    "section": "",
    "text": "4.1 Classifica√ß√£o: Pinguins do arquip√©lago Palmer\nNeste cap√≠tulo ser√° aplicaremos os conceitos vistos de ML e R para ‚Ä¶.",
    "crumbs": [
      "<span class='chapter-number'>4</span>¬† <span class='chapter-title'>Pr√°tica</span>"
    ]
  },
  {
    "objectID": "04-pratica.html#classifica√ß√£o-pinguins-do-arquip√©lago-palmer",
    "href": "04-pratica.html#classifica√ß√£o-pinguins-do-arquip√©lago-palmer",
    "title": "4¬† Pr√°tica",
    "section": "",
    "text": "4.1.1 Conhe√ßa os pinguins üêß\n\n\n\nObra de¬†@allison_horst.\n\n\nOs palmerpenguinsdados cont√™m medi√ß√µes de tamanho de tr√™s esp√©cies de pinguins observadas em tr√™s ilhas no Arquip√©lago Palmer, na Ant√°rtida.\n\nlibrary(palmerpenguins)\n\n\nAnexando pacote: 'palmerpenguins'\n\n\nO seguinte objeto √© mascarado por 'package:modeldata':\n\n    penguins\n\n\nOs seguintes objetos s√£o mascarados por 'package:datasets':\n\n    penguins, penguins_raw\n\nglimpse(penguins)\n\nRows: 344\nColumns: 8\n$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel‚Ä¶\n$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse‚Ä¶\n$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, ‚Ä¶\n$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, ‚Ä¶\n$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186‚Ä¶\n$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, ‚Ä¶\n$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male‚Ä¶\n$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007‚Ä¶\n\n\n\n\n\n\n\n\n\n4.1.2 Usando head()\n\n#|echo: true\n\nUsar¬†head()¬†pode ser interessante para ter um primeiro olhar para os dados:\n\nhead(penguins)\n\n# A tibble: 6 √ó 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n5 Adelie  Torgersen           36.7          19.3               193        3450\n6 Adelie  Torgersen           39.3          20.6               190        3650\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\n\n\n\n\n4.1.3 Usando arrange()\narrange()¬†organiza nossos dados em ordem crescente, partindo do menor valor da vari√°vel de interesse at√© o maior (ou em caso da vari√°vel ver qualitativa, ser√° apresentado em ordem alfab√©tica).\n\npenguins %&gt;%\n  arrange(bill_length_mm) %&gt;%\n  head()\n\n# A tibble: 6 √ó 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Dream               32.1          15.5               188        3050\n2 Adelie  Dream               33.1          16.1               178        2900\n3 Adelie  Torgersen           33.5          19                 190        3600\n4 Adelie  Dream               34            17.1               185        3400\n5 Adelie  Torgersen           34.1          18.1               193        3475\n6 Adelie  Torgersen           34.4          18.4               184        3325\n# ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\n\n\n\n\n4.1.4 Criando um subconjunto com subset()\n\n\n4.1.5 Aplica√ß√£o de um modelo de classifica√ß√£o\n\n# Carregando os pacotes\nlibrary(tidymodels)\n\n\n\n# Usar o dataset iris, dispon√≠vel por padr√£o no R\ndata(iris)\n\n# Criar um split treino/teste\nset.seed(123)\nsplit &lt;- initial_split(iris, prop = 0.8)\ntrain &lt;- training(split)\ntest &lt;- testing(split)\n\n# Definir o modelo (regress√£o log√≠stica multinomial)\nmodelo &lt;- multinom_reg() %&gt;%\n  set_engine(\"nnet\") %&gt;%\n  set_mode(\"classification\")\n\n# Criar o workflow\nworkflow &lt;- workflow() %&gt;%\n  add_model(modelo) %&gt;%\n  add_formula(Species ~ .)\n\n# Ajustar o modelo\najustado &lt;- fit(workflow, data = train)\n\n# Previs√£o e avalia√ß√£o\npred &lt;- predict(ajustado, new_data = test) %&gt;%\n  bind_cols(test)\n\n# M√©tricas de desempenho\nmetrics(pred, truth = Species, estimate = .pred_class)\n\n# A tibble: 2 √ó 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy multiclass     0.967\n2 kap      multiclass     0.946\n\n# Matriz de confus√£o\nconf_mat(pred, truth = Species, estimate = .pred_class)\n\n            Truth\nPrediction   setosa versicolor virginica\n  setosa         10          0         0\n  versicolor      0         14         0\n  virginica       0          1         5",
    "crumbs": [
      "<span class='chapter-number'>4</span>¬† <span class='chapter-title'>Pr√°tica</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "GORMAN, Kristen B. et al. Ecological\nSexual Dimorphism and Environmental\nVariability within a Community of Antarctic\nPenguins (Genus Pygoscelis). PLOS\nONE, v. 9, n. 3, p. e90081, 2014.\n\n\nWICKHAM, Hadley. Tidy\nData. Journal of Statistical Software,\nv. 59, p. 1‚Äì23, set. 2014.\n\n\nWICKHAM, Hadley. Ggplot2.\nCham: Springer International Publishing, 2016.\n\n\nWICKHAM, Hadley et al. Welcome to the\nTidyverse. Journal of Open Source\nSoftware, v. 4, n. 43, p. 1686, nov. 2019.",
    "crumbs": [
      "References"
    ]
  }
]